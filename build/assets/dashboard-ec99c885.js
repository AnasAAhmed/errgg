import{f as l,a3 as h,j as s,N as u,a4 as x}from"./index-0f62f80c.js";import{a as g}from"./index.esm-32e32b2b.js";import{A as j,H as m,a as b}from"./AdminSidebar-9f8bfcf3.js";import{B as v,D as N}from"./Charts-676ae1a8.js";import{T as p}from"./TableHOC-6c71695a.js";import{g as f}from"./features-89b8e0b8.js";const T=[{Header:"Id",accessor:"_id"},{Header:"Quantity",accessor:"quantity"},{Header:"Discount",accessor:"discount"},{Header:"Amount",accessor:"amount"},{Header:"Status",accessor:"status"}],$=({data:r=[]})=>p(T,r,"transaction-box","Top Transaction")(),{last6Months:y}=f(),P=()=>{const{user:r}=l(o=>o.userReducer),{isLoading:n,data:e,isError:t}=h(r==null?void 0:r._id),a=e==null?void 0:e.stats;return t?s.jsx(u,{to:"/"}):s.jsxs("div",{className:"admin-container",children:[s.jsx(j,{}),s.jsx("main",{className:"dashboard",children:n?s.jsx(x,{}):s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"widget-container",children:[s.jsx(c,{percent:a.changePercent.revenue,amount:!0,value:a.count.revenue,heading:"Revenue",color:"rgb(0, 115, 255)"}),s.jsx(c,{percent:a.changePercent.user,value:a.count.user,color:"rgb(0 198 202)",heading:"Users"}),s.jsx(c,{percent:a.changePercent.order,value:a.count.order,color:"rgb(255 196 0)",heading:"Transactions"}),s.jsx(c,{percent:a.changePercent.product,value:a.count.product,color:"rgb(76 0 255)",heading:"Products"})]}),s.jsxs("section",{className:"graph-container",children:[s.jsxs("div",{className:"revenue-chart",children:[s.jsx("h2",{children:"Revenue & Transaction"}),s.jsx(v,{labels:y,data_1:a.chart.revenue,data_2:a.chart.order,title_1:"Revenue",title_2:"Transaction",bgColor_1:"rgb(0, 115, 255)",bgColor_2:"rgba(53, 162, 235, 0.8)"})]}),s.jsxs("div",{className:"dashboard-categories",children:[s.jsx("h2",{children:"Inventory"}),s.jsx("div",{children:a.categoryCount.map(o=>{const[d,i]=Object.entries(o)[0];return s.jsx(C,{value:i,heading:d,color:`hsl(${i*4}, ${i}%, 50%)`},d)})})]})]}),s.jsxs("section",{className:"transaction-container",children:[s.jsxs("div",{className:"gender-chart",children:[s.jsx("h2",{children:"Gender Ratio"}),s.jsx(N,{labels:["Female","Male"],data:[a.userRatio.female,a.userRatio.male],backgroundColor:["hsl(340, 82%, 56%)","rgba(53, 162, 235, 0.8)"],cutout:90}),s.jsx("p",{children:s.jsx(g,{})})]}),s.jsx($,{data:a.latestTransaction})]})]})})]})},c=({heading:r,value:n,percent:e,color:t,amount:a=!1})=>s.jsxs("article",{className:"widget",children:[s.jsxs("div",{className:"widget-info",children:[s.jsx("p",{children:r}),s.jsx("h4",{children:a?`$${n}`:n}),e>0?s.jsxs("span",{className:"green",children:[s.jsx(m,{})," +",`${e>1e4?9999:e}%`]}):s.jsxs("span",{className:"red",children:[s.jsx(b,{})," ",`${e<-1e4?-9999:e}%`]})]}),s.jsx("div",{className:"widget-circle",style:{background:`conic-gradient(
        ${t} ${Math.abs(e)/100*360}deg,
        rgb(255, 255, 255) 0
      )`},children:s.jsxs("span",{style:{color:t},children:[e>0&&`${e>1e4?9999:e}%`,e<0&&`${e<-1e4?-9999:e}%`]})})]}),C=({color:r,value:n,heading:e})=>s.jsxs("div",{className:"category-item",children:[s.jsx("h5",{children:e}),s.jsx("div",{children:s.jsx("div",{style:{backgroundColor:r,width:`${n}%`}})}),s.jsxs("span",{children:[n,"%"]})]});export{P as default};
