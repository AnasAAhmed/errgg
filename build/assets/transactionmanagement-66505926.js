import{f as E,r as m,u as F,e as M,X as z,ao as H,ap as R,j as e,N as X,L as h,i as q,W as B,c as x,k as Q,o as W,a6 as u}from"./index-0f62f80c.js";import{A as G}from"./AdminSidebar-9f8bfcf3.js";import{r as p}from"./features-89b8e0b8.js";const J={shippingInfo:{address:"",city:"",state:"",country:"",pinCode:""},status:"",subtotal:0,discount:0,shippingCharges:0,tax:0,total:0,orderItems:[],user:{name:"",_id:"",email:"",phone:0},_id:""},ee=()=>{const{user:t}=E(s=>s.userReducer),[i,r]=m.useState(!1),[l,d]=m.useState(!1),o=F(),n=M(),{isLoading:j,data:a,isError:f}=z(o.id),{shippingInfo:{address:N,city:b,state:g,country:y,pinCode:w},orderItems:I,user:{name:$,_id:S,email:C,phone:_},status:c,tax:v,subtotal:k,total:O,discount:D,shippingCharges:L}=(a==null?void 0:a.order)||J,[P]=H(),[T]=R(),A=async()=>{d(!0);const s=await P({userId:t==null?void 0:t._id,orderId:a==null?void 0:a.order._id});d(!1),p(s,n,"/admin/transaction")},U=async()=>{r(!0);const s=await T({userId:t==null?void 0:t._id,orderId:a==null?void 0:a.order._id});r(!1),p(s,n,"/admin/transaction")};return f?e.jsx(X,{to:"/404"}):e.jsxs("div",{className:"admin-container flex",children:[e.jsx(G,{}),e.jsxs("main",{className:"flex flex-col items-start w-full",children:[e.jsxs(h,{to:"/admin/transaction",className:"flex items-center text-blue-500 mb-4",children:[e.jsx(q,{className:"mr-1"})," Back"]}),j?e.jsx(B,{}):e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"w-full px-2",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Items"}),e.jsx("button",{className:"text-white bg-black p-2 rounded-full mb-4",onClick:U,children:i?e.jsx(x,{className:"animate-spin"}):e.jsx(Q,{})}),e.jsx("div",{className:"space-y-4",children:I.map(s=>e.jsx(K,{name:s.name,photo:`${W}/${s.photo}`,productId:s.productId,_id:s._id,quantity:s.quantity,price:s.price,cutPrice:s.cutPrice,size:s.size,color:s.color},s._id))})]}),e.jsxs("article",{className:"p-8 w-full rounded-lg",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Order Info"}),e.jsx("h5",{className:"font-bold mb-2",children:"User Info"}),e.jsxs("p",{children:["Name: ",$]}),e.jsx(u,{text:S,heading:"UserId:"}),e.jsxs("p",{children:["Email: ",C]}),e.jsx(u,{text:_,heading:"Phone:"}),e.jsxs("p",{className:"text-gray-700",children:["Address: ",`${N}, city: ${b}, state: ${g}, country: ${y} pinCode: ${w}`]}),e.jsx("h5",{className:"font-bold mt-4",children:"Amount Info"}),e.jsxs("p",{children:["Subtotal: $",k]}),e.jsxs("p",{children:["Shipping Charges: $",L]}),e.jsxs("p",{children:["Tax: $",v]}),e.jsxs("p",{children:["Discount: $",D]}),e.jsxs("p",{className:"font-bold mt-4",children:["Total: $",O]}),e.jsx("h5",{className:"font-bold mt-4",children:"Status Info"}),e.jsxs("p",{className:c==="Delivered"?"text-purple-500":c==="Shipped"?"text-green-500":"text-red-500",children:["Status: ",c]}),e.jsx("button",{className:"bg-blue-500 w-56 h-10 my-11 flex justify-center items-center text-white text-lg rounded-md font-semibold",onClick:A,children:l?e.jsx(x,{className:"animate-spin text-2xl mx-3 "}):"Process Status"})]})]})]})]})},K=({name:t,photo:i,price:r,quantity:l,productId:d,size:o,color:n})=>e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsx("img",{src:i,className:"w-16 h-16 rounded-md mr-1 sm:w-24 sm:h-24",alt:t}),e.jsx(h,{to:`/product/${d}`,className:"line-clamp-2 w-full",children:t}),e.jsxs("span",{children:["$",r," X ",l," = $",r*l]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center ml-2",children:[o!==""&&e.jsxs("span",{className:"text-gray-500 mr-2",children:["Size: ",o]}),n!==""&&e.jsxs("span",{className:"text-gray-500 mr-2",children:["Color:",e.jsx("span",{className:"rounded-full ml-1 px-2 py-0.5",style:{backgroundColor:n}})]})]})]});export{ee as default};
