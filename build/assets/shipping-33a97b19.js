import{f as p,e as x,p as m,r as l,j as e,d as g,K as h,q as y,o as f,_ as b}from"./index-0f62f80c.js";import{B as j}from"./index.esm-32e32b2b.js";const C=()=>{const{cartItems:o,total:i}=p(a=>a.cartReducer),s=x(),c=m(),[t,u]=l.useState({address:"",city:"",state:"",country:"",pinCode:""}),r=a=>{u(n=>({...n,[a.target.name]:a.target.value}))},d=async a=>{a.preventDefault(),c(h(t));try{const{data:n}=await y.post(`${f}/api/v1/payment/create`,{amount:i},{headers:{"Content-Type":"application/json"}});s("/pay",{state:n.clientSecret})}catch(n){console.log(n),b.error("Something went wrong")}};return l.useEffect(()=>{if(o.length<=0)return s("/cart")},[o]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-center min-h-[80vh]",children:[e.jsx("button",{className:"back-btn ",onClick:()=>s("/cart"),children:e.jsx(j,{})}),e.jsxs("form",{onSubmit:d,className:"flex flex-col items-center mt-6 justify-stretch py-8 px-4 w-full max-w-[450px]",children:[e.jsx("h1",{className:"text-4xl font-semibold mb-8 text-center",children:"Shipping Address"}),e.jsx("input",{required:!0,type:"text",placeholder:"Address",name:"address",className:"border border-gray-300 rounded-lg py-3 px-4 mb-4 w-full focus:outline-none text-lg",value:t.address,onChange:r}),e.jsx("input",{required:!0,type:"text",placeholder:"City",name:"city",className:"border border-gray-300 rounded-lg py-3 px-4 mb-4 w-full focus:outline-none text-lg",value:t.city,onChange:r}),e.jsx("input",{required:!0,type:"text",placeholder:"State",name:"state",className:"border border-gray-300 rounded-lg py-3 px-4 mb-4 w-full focus:outline-none text-lg",value:t.state,onChange:r}),e.jsxs("select",{name:"country",required:!0,className:"border  border-gray-300 rounded-lg py-3 px-4 mb-4 w-full focus:outline-none text-lg",value:t.country,onChange:r,children:[e.jsx("option",{value:"",children:"Choose Country"}),e.jsx("option",{value:"pakistan",children:"Pakistan"})]}),e.jsx("input",{required:!0,type:"number",placeholder:"Pin Code",name:"pinCode",className:"border border-gray-300 rounded-lg py-3 px-4 mb-4 w-full focus:outline-none text-lg",value:t.pinCode,onChange:r}),e.jsx("button",{type:"submit",className:"py-3 px-6 rounded-lg uppercase text-lg font-semibold bg-blue-500 text-white shadow-md transition duration-300 ease-in-out hover:opacity-80",children:"Pay Now"})]})]}),e.jsx(g,{})]})};export{C as default};
