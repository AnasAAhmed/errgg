import{f as l,a5 as u,r as c,_ as x,j as s,o as h,L as r,a6 as f,c as j,a7 as g}from"./index-0f62f80c.js";import{A as b}from"./AdminSidebar-9f8bfcf3.js";import{T as v}from"./TableHOC-6c71695a.js";const w=[{Header:"Photo",accessor:"photo"},{Header:"Name",accessor:"name"},{Header:"ID",accessor:"productId"},{Header:"Price",accessor:"price"},{Header:"Stock",accessor:"stock"},{Header:"Action",accessor:"action"}],k=()=>{const{user:a}=l(e=>e.userReducer),{isLoading:d,isError:i,error:n,data:t}=u(a==null?void 0:a._id),[o,m]=c.useState([]);if(i){const e=n;x.error(e.data.message)}c.useEffect(()=>{t&&m(t.products.map(e=>({photo:s.jsx("img",{src:`${h}/${e.photos[0]}`}),name:s.jsx(r,{to:`/product/${e._id}`,className:"text-md font-medium line-clamp-2 hover:text-indigo-500",children:e.name}),productId:s.jsxs("div",{className:"line-clamp-2",children:[s.jsx(f,{text:e._id}),"..."]}),price:e.price,stock:e.stock,action:s.jsx(r,{className:"text-md font-medium py-1 px-2 rounded-md hover:bg-black hover:text-white",to:`/admin/product/${e._id}`,children:"Manage"})})))},[t]);const p=v(w,o,"dashboard-product-box","Products",o.length>6)();return s.jsxs("div",{className:"admin-container",children:[s.jsx(b,{}),s.jsx("main",{children:d?s.jsx(j,{className:"animate-spin  my-44 mx-auto h-44 w-44 text-gray-500"}):p}),s.jsxs(r,{to:"/admin/product/new",className:"fixed right-8 top-20 w-24 gap-2 h-10 flex items-center justify-center rounded-full bg-red-500 text-white hover:opacity-80",children:["Create ",s.jsx(g,{})]})]})};export{k as default};
