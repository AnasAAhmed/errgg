import{f as b,r,a8 as H,a9 as E,_ as v,j as a,c as i,k as w,aa as A,Z as C}from"./index-0f62f80c.js";import{A as N}from"./AdminSidebar-9f8bfcf3.js";import{T as R}from"./TableHOC-6c71695a.js";import{r as T}from"./features-89b8e0b8.js";import{B as U}from"./index.esm-167ea2f2.js";import{b as _}from"./index.esm-cbc4486d.js";const B=[{Header:"Avatar",accessor:"avatar"},{Header:"Name",accessor:"name"},{Header:"Gender",accessor:"gender"},{Header:"Email",accessor:"email"},{Header:"Role",accessor:"role"},{Header:"Action",accessor:"action"},{Header:"Details",accessor:"details"}],O=()=>{const{user:s}=b(e=>e.userReducer),[c,d]=r.useState(""),[l,o]=r.useState(!1),[m,u]=r.useState(""),{isLoading:p,data:t,isError:x,error:h}=H({id:s==null?void 0:s._id,email:m,searchId:c}),[n,f]=r.useState([]),[j]=E(),g=async e=>{if(window.confirm("Are you sure you want to delete this user completely?")){o(!0);const S=await j({userId:e,adminUserId:s==null?void 0:s._id});T(S,null,""),o(!1)}};if(x){const e=h;v.error(e.data.message)}r.useEffect(()=>{t&&f(t.users.map(e=>({avatar:a.jsx("img",{style:{borderRadius:"50%"},src:e.photo,alt:e.name}),name:e.name,email:e.email,gender:e.gender,role:e.role,action:a.jsx("button",{onClick:()=>g(e._id),children:l?a.jsx(i,{className:"animate-spin mr-2"}):a.jsx(w,{})}),details:a.jsx(A,{user:e,heading:a.jsx(C,{})})})))},[t]);const y=R(B,n,"dashboard-product-box","Customers",n.length>6)();return a.jsxs("div",{className:"admin-container",children:[a.jsx(N,{}),a.jsxs("main",{children:[a.jsxs("div",{className:"bar",children:[a.jsx(U,{size:"2rem"}),a.jsx("input",{type:"text",onChange:e=>d(e.target.value),placeholder:"Search By id"}),a.jsx(_,{size:"3rem"}),a.jsx("input",{type:"email",onChange:e=>u(e.target.value),placeholder:"Search By email"})]}),p?a.jsx(i,{className:"animate-spin h-44 w-44 my-40 mx-auto text-gray-500"}):y]})]})};export{O as default};
